{"ast":null,"code":"import axios from \"axios\";\nexport const postModule = {\n  state: () => ({\n    posts: [],\n    isPostsLoading: false,\n    selectedSort: '',\n    searchQuery: '',\n    page: 1,\n    limit: 10,\n    totalPages: 0,\n    SortOptions: [{\n      value: 'title',\n      name: 'By Name'\n    }, {\n      value: 'body',\n      name: 'By Description'\n    }]\n  }),\n  getters: {\n    sortedPosts(state) {\n      return [...state.posts].sort((post1, post2) => post1[state.selectedSort]?.localeCompare(post2[state.selectedSort]));\n    },\n    sortedAndSearchedPosts(state, getters) {\n      return getters.sortedPosts.filter(post => post.title.toLowerCase().includes(state.searchQuery.toLowerCase()));\n    }\n  },\n  mutations: {\n    setPosts(state, posts) {\n      state.posts = posts;\n    },\n    setLoading(state, bool) {\n      state.isPostsLoading = bool;\n    },\n    setPage(state, page) {\n      state.page = page;\n    },\n    setSelectedSort(state, selectedSort) {\n      state.selectedSort = selectedSort;\n    },\n    setTotalPages(state, totalPages) {\n      state.totalPages = totalPages;\n    },\n    setSearchQuery(state, searchQuery) {\n      state.searchQuery = searchQuery;\n    }\n  },\n  actions: {\n    async fetchPosts({\n      state,\n      commit\n    }) {\n      try {\n        commit('setLoading', true);\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n          params: {\n            _page: state.page,\n            _limit: state.limit\n          }\n        });\n        commit('setTotalPages', Math.ceil(response.headers['x-total-count'] / state.limit));\n        commit('setPosts', response.data);\n      } catch (e) {\n        alert('Error');\n      } finally {\n        commit('setLoading', false);\n      }\n    },\n    async loadMorePosts({\n      state,\n      commit\n    }) {\n      try {\n        commit('setPage', state.page + 1);\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n          params: {\n            _page: state.page,\n            _limit: state.limit\n          }\n        });\n        commit('setTotalPages', Math.ceil(response.headers['x-total-count'] / state.limit));\n        commit('setPosts', [...state.posts, ...response.data]);\n      } catch (e) {\n        alert('Error');\n      } finally {}\n    }\n  },\n  namespaces: true\n};","map":{"version":3,"names":["axios","postModule","state","posts","isPostsLoading","selectedSort","searchQuery","page","limit","totalPages","SortOptions","value","name","getters","sortedPosts","sort","post1","post2","localeCompare","sortedAndSearchedPosts","filter","post","title","toLowerCase","includes","mutations","setPosts","setLoading","bool","setPage","setSelectedSort","setTotalPages","setSearchQuery","actions","fetchPosts","commit","response","get","params","_page","_limit","Math","ceil","headers","data","e","alert","loadMorePosts","namespaces"],"sources":["D:/folderforsite/src/store/postModule.js"],"sourcesContent":["import axios from \"axios\";\t\t  \r\nexport const postModule = {\r\n    state: () => ({\r\n        posts: [],\r\n        isPostsLoading: false,\r\n        selectedSort: '',\r\n        searchQuery: '',\r\n        page: 1,\r\n        limit: 10,\r\n        totalPages: 0,\r\n        SortOptions:[\r\n            {value: 'title', name:'By Name'},\r\n            {value: 'body', name:'By Description'},\r\n        ]\r\n    }),\r\n    getters: {\r\n        sortedPosts(state) {\r\n            return [...state.posts].sort((post1,post2) => post1[state.selectedSort]?.localeCompare(post2[state.selectedSort]))\r\n        },\r\n        sortedAndSearchedPosts(state,getters) {\r\n            return getters.sortedPosts.filter(post =>post.title.toLowerCase().includes(state.searchQuery.toLowerCase()))\r\n        }\r\n    },\r\n    mutations:{\r\n        setPosts(state,posts){\r\n            state.posts=posts;\r\n        },\r\n        setLoading(state,bool){\r\n            state.isPostsLoading=bool;\r\n        },\r\n        setPage(state,page){\r\n            state.page=page;\r\n        },\r\n        setSelectedSort(state,selectedSort){\r\n            state.selectedSort=selectedSort;\r\n        },\r\n\t\tsetTotalPages(state, totalPages) {\r\n            state.totalPages = totalPages\r\n        },\r\n        setSearchQuery(state,searchQuery){\r\n            state.searchQuery=searchQuery;\r\n        },\r\n        \r\n    },\r\n    actions:{\r\n        async fetchPosts({state,commit}){\r\n            try {\r\n                commit('setLoading',true)\r\n                const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                    params:{\r\n                        _page:state.page,\r\n                        _limit:state.limit\r\n                    }\r\n                \r\n                })\r\n                commit('setTotalPages', Math.ceil(response.headers['x-total-count']/state.limit))\r\n                commit('setPosts', response.data)\r\n                \r\n                \r\n            } catch (e){\r\n                alert('Error')\r\n            } finally{\r\n                commit('setLoading',false)\r\n            }\r\n        },\r\n        async loadMorePosts({state,commit}){\r\n            try {\r\n                commit('setPage', state.page + 1)\r\n                const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                    params:{\r\n                        _page:state.page,\r\n                        _limit:state.limit\r\n                    }\r\n                \r\n                })\r\n                commit('setTotalPages', Math.ceil(response.headers['x-total-count']/state.limit))\r\n                commit('setPosts',[...state.posts,...response.data]);\r\n                \r\n                \r\n            } catch (e){\r\n                alert('Error')\r\n            } finally{\r\n            }\r\n        }\r\n    },\r\n    namespaces:true\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,MAAMC,UAAU,GAAG;EACtBC,KAAK,EAAEA,CAAA,MAAO;IACVC,KAAK,EAAE,EAAE;IACTC,cAAc,EAAE,KAAK;IACrBC,YAAY,EAAE,EAAE;IAChBC,WAAW,EAAE,EAAE;IACfC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,EAAE;IACTC,UAAU,EAAE,CAAC;IACbC,WAAW,EAAC,CACR;MAACC,KAAK,EAAE,OAAO;MAAEC,IAAI,EAAC;IAAS,CAAC,EAChC;MAACD,KAAK,EAAE,MAAM;MAAEC,IAAI,EAAC;IAAgB,CAAC;EAE9C,CAAC,CAAC;EACFC,OAAO,EAAE;IACLC,WAAWA,CAACZ,KAAK,EAAE;MACf,OAAO,CAAC,GAAGA,KAAK,CAACC,KAAK,CAAC,CAACY,IAAI,CAAC,CAACC,KAAK,EAACC,KAAK,KAAKD,KAAK,CAACd,KAAK,CAACG,YAAY,CAAC,EAAEa,aAAa,CAACD,KAAK,CAACf,KAAK,CAACG,YAAY,CAAC,CAAC,CAAC;IACtH,CAAC;IACDc,sBAAsBA,CAACjB,KAAK,EAACW,OAAO,EAAE;MAClC,OAAOA,OAAO,CAACC,WAAW,CAACM,MAAM,CAACC,IAAI,IAAGA,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtB,KAAK,CAACI,WAAW,CAACiB,WAAW,CAAC,CAAC,CAAC,CAAC;IAChH;EACJ,CAAC;EACDE,SAAS,EAAC;IACNC,QAAQA,CAACxB,KAAK,EAACC,KAAK,EAAC;MACjBD,KAAK,CAACC,KAAK,GAACA,KAAK;IACrB,CAAC;IACDwB,UAAUA,CAACzB,KAAK,EAAC0B,IAAI,EAAC;MAClB1B,KAAK,CAACE,cAAc,GAACwB,IAAI;IAC7B,CAAC;IACDC,OAAOA,CAAC3B,KAAK,EAACK,IAAI,EAAC;MACfL,KAAK,CAACK,IAAI,GAACA,IAAI;IACnB,CAAC;IACDuB,eAAeA,CAAC5B,KAAK,EAACG,YAAY,EAAC;MAC/BH,KAAK,CAACG,YAAY,GAACA,YAAY;IACnC,CAAC;IACP0B,aAAaA,CAAC7B,KAAK,EAAEO,UAAU,EAAE;MACvBP,KAAK,CAACO,UAAU,GAAGA,UAAU;IACjC,CAAC;IACDuB,cAAcA,CAAC9B,KAAK,EAACI,WAAW,EAAC;MAC7BJ,KAAK,CAACI,WAAW,GAACA,WAAW;IACjC;EAEJ,CAAC;EACD2B,OAAO,EAAC;IACJ,MAAMC,UAAUA,CAAC;MAAChC,KAAK;MAACiC;IAAM,CAAC,EAAC;MAC5B,IAAI;QACAA,MAAM,CAAC,YAAY,EAAC,IAAI,CAAC;QACzB,MAAMC,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,GAAG,CAAC,4CAA4C,EAAE;UAC3EC,MAAM,EAAC;YACHC,KAAK,EAACrC,KAAK,CAACK,IAAI;YAChBiC,MAAM,EAACtC,KAAK,CAACM;UACjB;QAEJ,CAAC,CAAC;QACF2B,MAAM,CAAC,eAAe,EAAEM,IAAI,CAACC,IAAI,CAACN,QAAQ,CAACO,OAAO,CAAC,eAAe,CAAC,GAACzC,KAAK,CAACM,KAAK,CAAC,CAAC;QACjF2B,MAAM,CAAC,UAAU,EAAEC,QAAQ,CAACQ,IAAI,CAAC;MAGrC,CAAC,CAAC,OAAOC,CAAC,EAAC;QACPC,KAAK,CAAC,OAAO,CAAC;MAClB,CAAC,SAAQ;QACLX,MAAM,CAAC,YAAY,EAAC,KAAK,CAAC;MAC9B;IACJ,CAAC;IACD,MAAMY,aAAaA,CAAC;MAAC7C,KAAK;MAACiC;IAAM,CAAC,EAAC;MAC/B,IAAI;QACAA,MAAM,CAAC,SAAS,EAAEjC,KAAK,CAACK,IAAI,GAAG,CAAC,CAAC;QACjC,MAAM6B,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,GAAG,CAAC,4CAA4C,EAAE;UAC3EC,MAAM,EAAC;YACHC,KAAK,EAACrC,KAAK,CAACK,IAAI;YAChBiC,MAAM,EAACtC,KAAK,CAACM;UACjB;QAEJ,CAAC,CAAC;QACF2B,MAAM,CAAC,eAAe,EAAEM,IAAI,CAACC,IAAI,CAACN,QAAQ,CAACO,OAAO,CAAC,eAAe,CAAC,GAACzC,KAAK,CAACM,KAAK,CAAC,CAAC;QACjF2B,MAAM,CAAC,UAAU,EAAC,CAAC,GAAGjC,KAAK,CAACC,KAAK,EAAC,GAAGiC,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAGxD,CAAC,CAAC,OAAOC,CAAC,EAAC;QACPC,KAAK,CAAC,OAAO,CAAC;MAClB,CAAC,SAAQ,CACT;IACJ;EACJ,CAAC;EACDE,UAAU,EAAC;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}