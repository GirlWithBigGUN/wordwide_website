{"ast":null,"code":"import axios from \"axios\";\nimport { ref, onMounted } from 'vue';\nexport function usePosts(limit) {\n  const posts = ref([]);\n  const totalPages = ref(0);\n  const isPostsLoading = ref(true);\n  const fetching = async () => {\n    try {\n      const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n        params: {\n          _page: 1,\n          _limit: limit\n        }\n      });\n      totalPages.value = Math.ceil(response.headers['x-total-count'] / limit);\n      posts.value = response.data;\n    } catch (e) {\n      alert('Ошибка');\n    } finally {\n      isPostsLoading.value = false;\n    }\n  };\n  onMounted(fetching);\n  return {\n    posts,\n    isPostsLoading,\n    totalPages\n  };\n}","map":{"version":3,"names":["axios","ref","onMounted","usePosts","limit","posts","totalPages","isPostsLoading","fetching","response","get","params","_page","_limit","value","Math","ceil","headers","data","e","alert"],"sources":["D:/folderforsite/src/hooks/usePosts.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {ref, onMounted} from 'vue';\r\n\r\nexport function usePosts(limit) {\r\n    const posts = ref([])\r\n    const totalPages = ref(0)\r\n    const isPostsLoading = ref(true)\r\n    const fetching = async () => {\r\n        try {\r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                params: {\r\n                    _page: 1,\r\n                    _limit: limit\r\n                }\r\n            });\r\n            totalPages.value = Math.ceil(response.headers['x-total-count'] / limit)\r\n            posts.value = response.data;\r\n        } catch (e) {\r\n            alert('Ошибка')\r\n        } finally {\r\n            isPostsLoading.value = false;\r\n        }\r\n    }\r\n\r\n    onMounted(fetching)\r\n\r\n    return {\r\n        posts, isPostsLoading, totalPages\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,GAAG,EAAEC,SAAS,QAAO,KAAK;AAElC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAE;EAC5B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACrB,MAAMK,UAAU,GAAGL,GAAG,CAAC,CAAC,CAAC;EACzB,MAAMM,cAAc,GAAGN,GAAG,CAAC,IAAI,CAAC;EAChC,MAAMO,QAAQ,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,4CAA4C,EAAE;QAC3EC,MAAM,EAAE;UACJC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAET;QACZ;MACJ,CAAC,CAAC;MACFE,UAAU,CAACQ,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACP,QAAQ,CAACQ,OAAO,CAAC,eAAe,CAAC,GAAGb,KAAK,CAAC;MACvEC,KAAK,CAACS,KAAK,GAAGL,QAAQ,CAACS,IAAI;IAC/B,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRC,KAAK,CAAC,QAAQ,CAAC;IACnB,CAAC,SAAS;MACNb,cAAc,CAACO,KAAK,GAAG,KAAK;IAChC;EACJ,CAAC;EAEDZ,SAAS,CAACM,QAAQ,CAAC;EAEnB,OAAO;IACHH,KAAK;IAAEE,cAAc;IAAED;EAC3B,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}