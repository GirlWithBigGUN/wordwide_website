{"ast":null,"code":"import axios from 'axios';\nimport { ref, onMounted } from 'vue';\nexport function usePosts(limit) {\n  const posts = ref([]);\n  const totalPages = ref([0]);\n  const isPostsLoading = ref([true]);\n  const fetching = async () => {\n    try {\n      const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n        params: {\n          _page: this.page,\n          _limit: this.limit\n        }\n      });\n      totalPages.value = Math.ceil(response.headers['x-total-count'] / limit);\n      posts.value = response.data;\n    } catch (e) {\n      alert('Error');\n    } finally {\n      isPostsLoading.value = false;\n    }\n  };\n}","map":{"version":3,"names":["axios","ref","onMounted","usePosts","limit","posts","totalPages","isPostsLoading","fetching","response","get","params","_page","page","_limit","value","Math","ceil","headers","data","e","alert"],"sources":["D:/folderforsite/src/hooks/usePosts.js"],"sourcesContent":["import axios from 'axios';\r\nimport {ref, onMounted} from 'vue';\r\n\r\nexport function usePosts(limit){\r\n    const posts = ref([])\r\n    const totalPages = ref([0])\r\n    const isPostsLoading = ref([true])\r\n    const fetching = async() =>{\r\n        try {    \r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                params:{\r\n                    _page:this.page,\r\n                    _limit:this.limit\r\n                }\r\n            \r\n            })\r\n            totalPages.value = Math.ceil(response.headers['x-total-count']/limit)\r\n            posts.value = response.data;\r\n            \r\n            \r\n        } catch (e){\r\n            alert('Error')\r\n        } finally{\r\n            isPostsLoading.value = false;\r\n        }\r\n    }\r\n    \r\n\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,GAAG,EAAEC,SAAS,QAAO,KAAK;AAElC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAC;EAC3B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACrB,MAAMK,UAAU,GAAGL,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3B,MAAMM,cAAc,GAAGN,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;EAClC,MAAMO,QAAQ,GAAG,MAAAA,CAAA,KAAU;IACvB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,4CAA4C,EAAE;QAC3EC,MAAM,EAAC;UACHC,KAAK,EAAC,IAAI,CAACC,IAAI;UACfC,MAAM,EAAC,IAAI,CAACV;QAChB;MAEJ,CAAC,CAAC;MACFE,UAAU,CAACS,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACR,QAAQ,CAACS,OAAO,CAAC,eAAe,CAAC,GAACd,KAAK,CAAC;MACrEC,KAAK,CAACU,KAAK,GAAGN,QAAQ,CAACU,IAAI;IAG/B,CAAC,CAAC,OAAOC,CAAC,EAAC;MACPC,KAAK,CAAC,OAAO,CAAC;IAClB,CAAC,SAAQ;MACLd,cAAc,CAACQ,KAAK,GAAG,KAAK;IAChC;EACJ,CAAC;AAGL"},"metadata":{},"sourceType":"module","externalDependencies":[]}